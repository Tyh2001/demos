<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>点名器</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    .box {
      width: 1000px;
      margin: 0 auto;
      margin-top: 100px;
    }

    #btn {
      width: 100px;
      height: 30px;
      margin-left: 600px;
      margin-top: 50px;
    }

    .name {
      width: 120px;
      height: 30px;
      background-color: antiquewhite;
      text-align: center;
      line-height: 30px;
      display: inline-block;
      margin: 10px 10px;
    }

    h1 {
      text-align: center;
    }
  </style>
</head>

<body>
  <h1>随机点名系统</h1>

  <!-- 全部学员信息 -->
  <div class="box" id="box"></div>

  <!-- 点名按钮 -->
  <input type="button" id="btn" value="点名" />

  <script>
    //创造虚拟后台数据
    const arrs = [
      '崔雪莉',
      '郭雪芙',
      '嘉歆',
      '阿芳',
      '雪灵',
      '老王',
      '刘疙瘩',
      '许大妈',
      '韩晁',
      '静涵',
      '允儿',
      '查灿灿',
      '靓影',
      '杨幂',
      '李静',
      '邓超',
      '李伟',
      '蓝老师',
      '金枝',
      '静恬',
      '允儿',
      '杨幂',
      '晶灵',
      '林志玲',
      '嘉懿',
      '流行',
      '邓超',
      '郭琦',
      '允儿',
      '许大妈',
      '林妹妹',
      '杨幂',
      '佳思',
      '吉玉',
      '张焕',
      '张赛',
      '师傅',
      '菊月',
      '王晶',
      '吉玟',
      '王飞',
      '林志玲',
      '曾艳',
      '王翠青',
      '吉玉',
    ]
    const boxNode = document.getElementById('box') // 获取到装学生的盒子

    // 渲染同学列表
    let className = ''
    for (let i = 0; i < arrs.length; i++) {
      // 创建新元素
      const divNode = document.createElement('div') // 新建一个 div 标签
      divNode.innerHTML = arrs[i] // div 标签的内容为学生名
      divNode.setAttribute('class', 'name') // div 标签的 class 为 name
      boxNode.appendChild(divNode) // 将新建的标签放到大盒子中
    }

    // 点击点名按钮
    const btn = document.getElementById('btn')
    btn.onclick = function () {
      if (this.value === '点名') {
        // 定时
        timeId = setInterval(() => {
          // 清空所有颜色
          for (let j = 0; j < arrs.length; j++) {
            boxNode.children[j].style.background = ''
          }
          // 留下当前颜色
          const random = parseInt(Math.random() * arrs.length) // 获取随机数
          boxNode.children[random].style.background = 'red' // 改变盒子中第 random 个子集的背景色
          className = boxNode.children[random].innerText // 获取盒子中第 random 个子集的文本内容
        }, 100)
        this.value = '停止'
      } else {
        //清除计时器
        clearInterval(timeId)
        alert(`请${className}同学回答问题`)
        this.value = '点名'
      }
    }
  </script>
</body>

</html>